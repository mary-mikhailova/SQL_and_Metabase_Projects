## Задание

Недавно мы ввели на сайт с лендингами Симулятора новый функционал - сбор статистики. 
Теперь мы смотрим - какой человек когда заходил на сайт, какие действия совершал, когда возвращался и так далее.
Более того, мы фиксируем откуда он пришел с помощью меток в URL-адресе. 

И теперь нам нужно настроить просмотр статистики по всему этому делу, чтобы можно было быстро делать выводы и редактировать маркетинг.

  1. Нужно сделать таблицу, где будет видно: какой источник, какое событие произошло и сколько событий данного вида с таким источником было.
  2. Нужно построить воронку "Зашел на сайт - открыл страницу - оставил заявку на консультацию - запросил демо - перешел к оплате - запросил результаты теста". Здесь не все события связаны между собой, некоторые происходят в разные моменты времени, но пока что хочется видеть это все на одной воронке.

Оба отчета должны иметь фильтр по периоду дат. Второй - еще и по источнику.

Под источником мы понимаем параметры в URL-адресе, которые выглядят так:
- discount=...
- utm_source=...
- funnel=...
- source=...

_Нужная информация хранится в базе данных site в таблице stat._

__БД Site__
__stat__

Таблица со статистикой активности пользователей на сайте simulative.ru. Фиксируются заходы на сайт, переходы по страницам, заполнения форм, а также параметры в URL.

- id - уникальный идентификатор записи
- created_at - дата и время совершения действия
- uid - уникальный идентификатор пользователя, который генерируется при первом заходе на сайт. Привязан к браузеру и устройству.
- event - событие, которое произошло. Например, “заход на сайт”, “открытие страницы”, “запрос консультации” и так далее.
- trigger - что послужило триггером к действию: форма на сайте, модальное окошко, всплывающий попап.
- url_params - какие параметры были указаны в адресной строке в момент совершения действия. 

